metadata:
  name: Auto-Generated Transformation
  version: '1.0'
  source_ontology: http://example.org/fleet#
  target_ontology: http://example.org/fleet-emissions#
  description: Auto-generated transformation rules
  generated: true
constants:
  defaults:
    unknown_value: Unknown
root_mapping:
  target_type: target:EmissionsReport
  target_context:
    target: http://example.org/fleet-emissions#
    xsd: http://www.w3.org/2001/XMLSchema#
field_mappings:
- source_path: vehicle_id
  target_path: vehicle_id
  default: ${constants.defaults.unknown_value}
- source_path: vehicle_type
  target_path: vehicle_type
  default: ${constants.defaults.unknown_value}
- source_path: organization_name
  target_path: organization_name
  default: ${constants.defaults.unknown_value}
transformation_steps:
- name: transform_vehicle
  description: Transform Vehicle to VehicleEmission
  source: vehicles
  target: vehicle_emissions
  iteration: true
  substeps:
  - name: map_vehicle_fields
    mapping:
    - target: vehicle_id
      source: vehicle_id
    - target: vehicle_type
      source: vehicle_type
- name: transform_organization
  description: Transform Organization to ReportingOrganization
  source: organizations
  target: reporting_organizations
  iteration: true
  substeps:
  - name: map_organization_fields
    mapping:
    - target: organization_name
      source: organization_name
options:
  preserve_source_context: true
  case_sensitive: false
  null_handling: use_defaults
calculation_rules:
- name: calculate_total_fuel_amount
  description: Calculate total from fuel_amount
  input:
    value: $.fuel_amount
  formula: value
  output: total_fuel_amount
